git clone <repository-url>
cd opentelemetry-examples/otel-collector/otel-operator/java/k8s


# Add the OpenTelemetry Helm repository
helm repo add open-telemetry https://open-telemetry.github.io/opentelemetry-helm-charts
helm repo update

# Install the operator with optimized settings
helm install opentelemetry-operator open-telemetry/opentelemetry-operator -n last9 --version 0.129.1 -n last9 --create-namespace \
--set "manager.collectorImage.repository=ghcr.io/open-telemetry/opentelemetry-collector-releases/opentelemetry-collector-k8s" \
--set admissionWebhooks.certManager.enabled=false \
--set admissionWebhooks.autoGenerateCert.enabled=true
```

#Install collector

helm upgrade --install last9-opentelemetry-collector open-telemetry/opentelemetry-collector --version 0.126.0 -n last9 --create-namespace -f last9-otel-collector-values.yaml 

#Create service for Collector

kubect apply -f collector-svc.yaml -n last9


#Create Common instrumentation in last9 namespace

kubectl apply -f instrumentation.yaml -n last9

#Annote your apps

updae you deploymeny yaml with below

  template:
    metadata:
      labels:
        app: spring-boot-app
      annotations:
        instrumentation.opentelemetry.io/inject-java: "last9/l9-instrumentation"

